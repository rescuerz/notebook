
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="rescuerz's notebook">
      
      
      
      
        <link rel="prev" href="../2.%20Instructions%20Language%20of%20the%20Computer/">
      
      
        <link rel="next" href="../4.%20The%20Processor/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>3. Arithmetic for Computer - rescuerz's notebook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeline.css">
    
      <link rel="stylesheet" href="../../supports/css/base.css">
    
      <link rel="stylesheet" href="../../supports/css/theme.css">
    
      <link rel="stylesheet" href="../../supports/css/admonitions.css">
    
      <link rel="stylesheet" href="https://jsd.cdn.zzko.cn/npm/katex@0.16.4/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-arithmetic-for-computer" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="rescuerz&#39;s notebook" class="md-header__button md-logo" aria-label="rescuerz's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            rescuerz's notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3. Arithmetic for Computer
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/rescuerz/notebook" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    rescuerz/notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ADS/" class="md-tabs__link">
          
  
    
  
  Computer Science

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../DB/" class="md-tabs__link">
          
  
    
  
  System

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../CV/" class="md-tabs__link">
          
  
    
  
  Artificial Intelligence

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="rescuerz&#39;s notebook" class="md-nav__button md-logo" aria-label="rescuerz's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    rescuerz's notebook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rescuerz/notebook" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    rescuerz/notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    更新记录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../link/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    友链
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Computer Science
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ADS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    高级数据结构与算法分析
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            高级数据结构与算法分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/1.%20AVL_tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. AVL Tree &amp; Splay Tree
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/2.%20Red%20Black%20Tree%20%26%20B%2B%20Tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Red Black Tree &amp; B+ Tree
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/3.%20Inverted%20File%20Index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Inverted File Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/4.%20Leftist%20Heaps%20and%20Skew%20Heaps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Leftist Heap &amp; Skew Heap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/5.%20Binomial%20Queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Binomial Queue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/6.%20backtracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Backtracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/7.%20Divide%20%26%20Conquer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Divide &amp; Conquer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/8.%20Dynamic%20Programming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8. Dynamic Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/9.%20Greedy%20Algorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9. Greedy Algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/10.%20NP-Completeness/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10. NP-Completeness
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/11.%20Approximation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11. Approximation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/12.%20Local%20Search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12. Local Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/13.%20Randomized%20Algorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13. Randomized Algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/14.%20Parallel%20Algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14. Parallel Algorithm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/15.%20External%20Sorting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15. External Sorting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DB/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    数据库系统
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            数据库系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/1.%20Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/2.%20Relational%20Model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Relational Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/3.%20SQL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/6.%20Entity-Relationship%20Model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Entity-Relationship Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/7.%20Relational%20Database%20Design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Relational Database Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/8.%20Physical%20Storage%20Systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8. Physical Storage Systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/9.%20Data%20Storage%20Structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9. Data Storage Structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/10.%20Indexing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10. Indexing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/11.%20Query%20Processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11. Query Processing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/12.%20Query%20Optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12. Query Optimization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/13.%20Transaction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13. Transactions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/14.%20Concurrency%20Control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14. Concurrency Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/15.%20Recovery%20System/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15. Recovery System
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机组成与设计
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            计算机组成与设计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1.%20Introduce/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Introduce
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.%20Instructions%20Language%20of%20the%20Computer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Instructions: Language of the Computer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    3. Arithmetic for Computer
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    3. Arithmetic for Computer
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-signed-and-unsigned-numbers-representations" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Signed and Unsigned Numbers Representations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-arithmetic" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Arithmetic
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Arithmetic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-addition--and-substraction" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 Addition  and Substraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-logical-operations" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2. Logical operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-construct-an-alu" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Construct an ALU
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 Construct an ALU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341--1-bit-alu" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1  1-bit ALU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-加上减法和-nor" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 加上减法和 NOR！****
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343-加上comparison" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 加上comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344-加上overflow" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 加上overflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#345-串联得到-64-bit-alu" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.5 串联得到 64-bit ALU！
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#346-优化--zero-detector" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.6 优化 + zero detector！
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-加速加法器" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 加速加法器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 加速加法器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-carry-lookahead-adder-cla" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1 Carry Lookahead Adder, CLA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-carry-skip-adder" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2 Carry Skip Adder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353-carry-select-adder-csa" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.3 Carry Select Adder, CSA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-乘法" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 乘法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 乘法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-version1" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 version1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362-version2" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 version2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#363-version3" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.3 version3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#364-有符号乘法" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.4 有符号乘法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#365-booths-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.5 Booth's Algorithm。
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-除法" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 除法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7 除法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#371-version1" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.1 version1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#372-version2" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.2 version2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-浮点运算" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 浮点运算
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.8 浮点运算">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#381-ieee-754-浮点表示" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.1 IEEE 754 浮点表示
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#382-浮点加法" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.2 浮点加法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#383-浮点乘法" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.3 浮点乘法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#384-精确算术" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.4 精确算术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.%20The%20Processor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. The Processor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5.%20Large%20and%20Fast%20Exploiting%20Memory%20Hierarchy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Large and Fast: Exploiting Memory Hierarchy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6.%20Storage%2C%20Networks%20and%20Other%20Peripherals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Storage, Networks and Other Peripherals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Artificial Intelligence
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Artificial Intelligence
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CV/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Computer Vision
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Computer Vision
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture1_Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture2_Image_Classification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image_Classification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture3_Linear_Classifiers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linear_Classifier
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture4_Optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture5_Neural_Networks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Neural Network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture6_Backpropagation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backpropagation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture7_ConvolutionalNetworks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convolutional Neural Networks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture8_CNN_Architectures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CNN Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CV/Lecture9_Hardware_and_Software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware and Software
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-signed-and-unsigned-numbers-representations" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Signed and Unsigned Numbers Representations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-arithmetic" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Arithmetic
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Arithmetic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-addition--and-substraction" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 Addition  and Substraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-logical-operations" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2. Logical operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-construct-an-alu" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Construct an ALU
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 Construct an ALU">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341--1-bit-alu" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1  1-bit ALU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-加上减法和-nor" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 加上减法和 NOR！****
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343-加上comparison" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 加上comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344-加上overflow" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 加上overflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#345-串联得到-64-bit-alu" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.5 串联得到 64-bit ALU！
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#346-优化--zero-detector" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.6 优化 + zero detector！
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-加速加法器" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 加速加法器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 加速加法器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-carry-lookahead-adder-cla" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1 Carry Lookahead Adder, CLA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-carry-skip-adder" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2 Carry Skip Adder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353-carry-select-adder-csa" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.3 Carry Select Adder, CSA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-乘法" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 乘法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 乘法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-version1" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 version1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362-version2" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 version2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#363-version3" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.3 version3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#364-有符号乘法" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.4 有符号乘法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#365-booths-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.5 Booth's Algorithm。
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-除法" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 除法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7 除法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#371-version1" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.1 version1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#372-version2" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.2 version2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-浮点运算" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 浮点运算
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.8 浮点运算">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#381-ieee-754-浮点表示" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.1 IEEE 754 浮点表示
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#382-浮点加法" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.2 浮点加法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#383-浮点乘法" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.3 浮点乘法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#384-精确算术" class="md-nav__link">
    <span class="md-ellipsis">
      3.8.4 精确算术
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/rescuerz/notebook/blob/main/docs/CO/3. Arithmetic for Computer.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/rescuerz/notebook/raw/main/docs/CO/3. Arithmetic for Computer.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


<h1 id="3-arithmetic-for-computer">3. Arithmetic for Computer<a class="headerlink" href="#3-arithmetic-for-computer" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8V2m6.78 1a.69.69 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38-2.5-2.5Z"/></svg></span> 约 6162 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3L12.5 13Z"/></svg></span> 预计阅读时间 31 分钟</p>
</div>
<h2 id="31-introduction">3.1 Introduction<a class="headerlink" href="#31-introduction" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Computer words are composed of bits; </p>
<ul>
<li>
<p>there are 32 bits/word or 64 bits/word in RISC-V</p>
</li>
<li>
<p><code>Contains four bytes for 32bits word</code></p>
<p><strong>一个字 word 32 bits</strong></p>
</li>
</ul>
</li>
<li>
<p>Simplified to contain only in course:</p>
<ul>
<li>
<p><strong>memory-reference instructions</strong>:  lw, sw(<code>load word \ store word</code>)，ld，sd（load double  store double）,lh, sh（load half   store half）</p>
</li>
<li>
<p><strong>arithmetic-logical instructions</strong>:  add, sub, and, or, xor, slt(<code>set less than比较 slt x1 x2 x3: x1 = (x2 &lt; x3) ? 1 : 0</code>)...</p>
</li>
<li>
<p><strong>control flow instructions</strong>(跳转):  beq（如果equal跳转到……branch）, bne（not equal）, jal（jump and link）</p>
<blockquote>
<p>以上均需要ALU，计算内存地址，进行条件判断</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>Generic Implementation:</p>
<ul>
<li>
<p>use the program counter (PC) to supply instruction address </p>
<p><code>PC program counter 储存指令的地址</code></p>
</li>
<li>
<p>get the instruction from memory <code>从内存中取出指令</code></p>
</li>
<li>
<p>read registers</p>
</li>
<li>
<p>use the instruction to decide exactly what to do</p>
</li>
</ul>
</li>
<li>
<p><strong>All instructions use the ALU after reading the registers</strong></p>
</li>
</ol>
<blockquote>
<p>对于binary integer <span class="arithmatex">\(1001_2\)</span></p>
<ul>
<li>unsigned : <span class="arithmatex">\(1001_2 = 9_{10}\)</span></li>
<li>signed : <span class="arithmatex">\(1001_2 = -1_{10}(原码) = -6_{10}(1's \ compliment) = -7_{10}(2's \ compliment)\)</span> </li>
</ul>
</blockquote>
<h2 id="32-signed-and-unsigned-numbers-representations">3.2 Signed and Unsigned Numbers Representations<a class="headerlink" href="#32-signed-and-unsigned-numbers-representations" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Sign and magnitude</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152795.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240307212335354" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152795.png" /></a></p>
<ul>
<li>
<p>补码 2's Complement</p>
<p><strong>扩充位数，左侧补符号位即可</strong></p>
<p><strong>only one representation for 0</strong></p>
<p><strong>one more negative number than positive number <span class="arithmatex">\([-2^{n-1},2^{n-1}-1]\)</span></strong></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152794.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308101705009" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152794.png" /></a></p>
</li>
<li>
<p>反码 1's Complement</p>
</li>
<li>
<p>原码 sign magnitude</p>
<p><strong>首位为符号位，后续按照2的幂进行计算</strong></p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>补充 Two‘s Biased notation</strong></p>
</blockquote>
<p>如上图所示，左侧为32位的二进制补码表示，如果看作无符号数，则左侧是从小到大排列的。但是右侧对应的十进制整数确实分段递增。</p>
<p>假设原先 n = 4</p>
<p>为此引入移码，在左侧加上<span class="arithmatex">\(2^{4}\)</span>,也就是在原先符号位的地方+1，此时变为</p>
<div class="arithmatex">\[
\begin{aligned}
&amp;0000_2 = 0 &amp;0001_2 = 1 &amp;\cdots &amp;0111_2 = 7\\
&amp;1000_2 = -8 &amp;1001_2 = -7 &amp;\cdots &amp;1111_2 = -1\\
&amp;左侧加上2^4\\
&amp;10000_2 = 0 &amp;10001_2 = 1 &amp;\cdots &amp;10111_2 = 7\\
&amp;01000_2 = -8 &amp;01001_2 = -7 &amp;\cdots &amp;01111_2 = -1\\
\end{aligned}
\]</div>
<p><span class="arithmatex">\([X]_b = 2^n + X\)</span>从2进制补码到移码，只需符号位扩充一位，再翻转符号位即可。</p>
<p><strong><code>现在0表示负数，1表示正数</code></strong></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202404161322319.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240416132256144" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202404161322319.png" /></a></p>
<h2 id="33-arithmetic">3.3 Arithmetic<a class="headerlink" href="#33-arithmetic" title="Permanent link">&para;</a></h2>
<h3 id="331-addition--and-substraction">3.3.1 Addition  and Substraction<a class="headerlink" href="#331-addition--and-substraction" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Addition</p>
</li>
<li>
<p>Substraction  </p>
</li>
<li>
<p>Overflow detection: <span class="arithmatex">\(C_n \oplus C_{n-1}\)</span></p>
</li>
</ul>
<div class="arithmatex">\[
\begin{aligned}
&amp;unsigned \ representation\\
&amp;1111 \ 1111  \ (255)_{10}\\
+ &amp;1111 \ 1010  \ (250)_{10}\\
= 1 \ &amp;1111 \ 1001 \ (249)_{10}\\
&amp;2's \ compliment\\
&amp;1000 \ 0001 \ (-127)_{10} \\
+&amp;1111 \ 1110 \ (-2)_{10} \\
= 1 \ &amp;0111 \ 1111 \ (127)_{10}\\
\end{aligned}
\]</div>
<blockquote>
<p><strong>对于无符号数，看进位是否产生即可；<span class="arithmatex">\(n\)</span>位二进制数，看<span class="arithmatex">\(C_n\)</span></strong></p>
<p><strong>对于有符号数，看<span class="arithmatex">\(C_n \oplus C_{n-1}\)</span></strong></p>
<p><strong><code>对于有符号数的进位，对于已知operandA，B符号的情况下，可以直接利用Result[n]^Result[n-1]来判断。如果A，B的符号未知，则采用进位判断，判断C_n ^ C_{n-1}</code></strong></p>
</blockquote>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152763.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308104729879" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152763.png" /></a></p>
<h3 id="332-logical-operations">3.3.2. Logical operations<a class="headerlink" href="#332-logical-operations" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Logical shift operations（<strong><code>空余的位置补充0</code></strong>）</p>
<p><code>sll x1 x2 x3</code></p>
<p><code>slli x1 x2 imm</code></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152780.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152780.png" style="zoom:80%;" /></a></p>
</li>
<li>
<p>AND-&gt;bit-wise AND between registers</p>
<p><code>and R1, R2, R3</code></p>
</li>
<li>
<p>OR-&gt;bit-wise OR between registers</p>
<p><code>or R1, R2, R3</code></p>
</li>
</ol>
<h2 id="34-construct-an-alu">3.4 Construct an ALU<a class="headerlink" href="#34-construct-an-alu" title="Permanent link">&para;</a></h2>
<p><strong>世界上不存在减法</strong>。众所周知，减法就是加上相反数。所以这个世界上不存在减法。</p>
<p><strong>Overflow</strong>。硬件规模是有限的，因此运算结果超过这个限制时，就会发生溢出。</p>
<p><strong><code>对于有符号加法，当正数和正数相加得到负数，或者负数和负数相加得到正数时，就可以判定溢出。</code></strong></p>
<p><strong><code>对于无符号加法，如果结果小于二者中任意一个，也可以判定溢出。因为无符号数得到的一定都是正数</code></strong></p>
<ul>
<li>关于 Overflow，硬件层面需要能检测溢出，然后将这个指令的地址存储到一个特别的寄存器 EPC 里，然后跳转到 OS 中专门的程序中来处理这个溢出（异常处理）；</li>
</ul>
<p><strong>ALU, Arithmetic Logic Unit</strong>，算术逻辑单元，执行一些算术运算或者逻辑运算。</p>
<h3 id="341--1-bit-alu">3.4.1  1-bit ALU<a class="headerlink" href="#341--1-bit-alu" title="Permanent link">&para;</a></h3>
<blockquote>
<p>（下面这部分内容在课本附录 A.5 开始的地方）</p>
</blockquote>
<p>我们先考虑 1 bit ALU 的构造。我们学习过 1 bit <a href="https://note.isshikih.top/cour_note/D2QD_DigitalDesign/Chap03/#%E5%8D%8A%E5%8A%A0%E5%99%A8--%E5%85%A8%E5%8A%A0%E5%99%A8">Full Adder</a> 的构造：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152787.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306101956338" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152787.png" /></a>
$$
S = X \oplus Y \oplus Cin\
COUT = XY + Cin(X+Y) = XY + Cin X + Cin Y
$$
上左图是<strong>全加器的具体构造</strong>，右图是我们将其进行封装后的表示方式。</p>
<p>我们结合一个 mux，就可以构造一个支持<strong>与、或以及加法运算</strong>的 <strong>1 bit ALU</strong>：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152783.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102019488" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152783.png" /></a></p>
<p>其中 <code>Operation</code> 是用来指明 <strong>mux</strong> 采取哪个结果的信号，值为 00 01 10 分别对应与、或、加法运算。</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152333.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308112815949" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152333.png" /></a></p>
<p>32位的行波进位加法器，速度慢</p>
<h3 id="342-加上减法和-nor">3.4.2 加上减法和 NOR！****<a class="headerlink" href="#342-加上减法和-nor" title="Permanent link">&para;</a></h3>
<p>减法运算怎么办呢？众所周知，由于补码有 <span class="arithmatex">\(x + \bar x = 111\dots111_2 = -1\)</span>，因此 <span class="arithmatex">\(-x = \bar x + 1\)</span>，所以 <span class="arithmatex">\(a - b = a + (-b) = a + \bar b + 1\)</span>。据此我们可以构造这样的结构：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152289.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102309388" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152289.png" /></a></p>
<p>其中 <code>Binvert</code> 用来指明是否需要将结果取反；在计算减法时，我们将 <code>Binvert</code> 设为 <code>1</code> ，然后将 <code>CarryIn</code> 也设为 <code>1</code> ， <code>Operation</code> 设为 <code>2</code> ，这样我们的结果就是 <span class="arithmatex">\(a + \bar b + 1\)</span>。</p>
<p><code>NOR</code> 运算： <code>a NOR b = NOT(a OR b) = (NOT a) AND (NOT b)</code> ，因此 <code>NOR</code> 运算可以这样实现：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152317.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102324481" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152317.png" /></a></p>
<p>在计算NOR时，将<code>Ainvert,Binvert</code>设为1，<code>Operation</code>设为0</p>
<p>上右图是我们目前的 1 bit ALU 的抽象结构。</p>
<h3 id="343-加上comparison">3.4.3 加上comparison<a class="headerlink" href="#343-加上comparison" title="Permanent link">&para;</a></h3>
<p>现在补充<strong>比较功能comparison</strong></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152354.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308113311789" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152354.png" /></a></p>
<p><code>slt rd,rs,rt</code></p>
<ul>
<li>
<p>If rs &lt; rt, rd = 1, else rd = 0</p>
</li>
<li>
<p>对于rd，除了最后一个bit（bit[0]）其他的bit都是0</p>
</li>
<li>
<p>如何判断<code>rs &lt; rt？</code>，采用<code>substraction</code>,利用符号位进行判断</p>
</li>
<li>
<blockquote>
<p><strong>最后输入的Less，取的就是rd寄存器的LSB（least significant bit ）</strong></p>
</blockquote>
</li>
</ul>
<h3 id="344-加上overflow">3.4.4 加上overflow<a class="headerlink" href="#344-加上overflow" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152519.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308192344781" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152519.png" /></a></p>
<p>单精度浮点数 符号位1位，指数8位， frac23位</p>
<p>0x7F800000 = 0b 0111_1111_1000_0000….0</p>
<p>首先是正数，指数部分是11111111， 对应正无穷<span class="arithmatex">\(+\inf\)</span></p>
<hr />
<p>对于-1的表示方法： <span class="arithmatex">\(-1 \times 1.0 \times 2^0\)</span></p>
<p>符号位为1，frac全为0，指数部分=127 = 01111111</p>
<p>1 01111111 00000….0 = 0xBF800000</p>
<hr />
<p>引入模块overflow detection，<code>Set is most significant bit ，也就是bit[n-1]</code></p>
<p><code>carry out 是 bit[n]</code></p>
<p><span class="arithmatex">\(overflow =carry \ in \oplus carry \ out\)</span> </p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152522.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308192802044" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152522.png" /></a></p>
<h3 id="345-串联得到-64-bit-alu">3.4.5 串联得到 64-bit ALU！<a class="headerlink" href="#345-串联得到-64-bit-alu" title="Permanent link">&para;</a></h3>
<p>有了 1 bit 的 ALU，我们就可以构造出 RISC-V 所需的 64 bits 的 ALU 了：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152695.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102357609" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152695.png" /></a></p>
<blockquote>
<p><strong>注意一下此处：Set 连接作为Less的输入。本质上是因为，执行减法计算后，如果rs  &lt; rt，此时a - b 计算得到的结果 符号位肯定为1，对应Less = 1，满足 a &lt; b</strong></p>
</blockquote>
<p>可以看到，对于 64 位的加法、减法、AND, OR, NOR 运算，这样的 64 位 ALU 都可以完成。</p>
<p>同时也可以注意到，这里面除了我们熟悉的内容外，还多了 <code>Less</code> ,  <code>Set</code> 和 <code>Overflow</code> 这些位。它们是用来干什么的呢？</p>
<p>首先 <code>Overflow</code> 是容易理解的，它用来表示加法或减法有没有出现溢出的现象；显然这个判断只需要在 ALU63，即 <strong>Most Significant Bit 才需要进行</strong>。容易证明，如果 <span class="arithmatex">\(C_{in} \oplus C_{out} = 1\)</span>，那么存在溢出；因此 ALU63 只需要添加一个<strong>额外的 XOR 门</strong>即可完成这一判断。</p>
<blockquote>
<p>Tip: 这里提到的 <span class="arithmatex">\(C_{in}\)</span> 和 <span class="arithmatex">\(C_{out}\)</span> 指的都是最后一个 ALU 的 carry in 和 carry out。</p>
<p>简单做解释，首先，最后一位是符号位。<span class="arithmatex">\(C_{in} \oplus C_{out} = 1\)</span> 意味着其中一个是 1，另外一个是 0；</p>
<ul>
<li>假设 <span class="arithmatex">\(C_{in} = 1, \, C_{out} = 0\)</span>，则意味着 <span class="arithmatex">\(a_{63}\)</span> 和 <span class="arithmatex">\(b_{63}\)</span> 都为 0，即两个 operand 都是正数，此时由于 <span class="arithmatex">\(C_{in} = 1\)</span>，所以 <span class="arithmatex">\(res_{63}=1\)</span> 即结果是负数，<strong>两正数相加得到负数，发生 overflow；</strong></li>
<li>假设 <span class="arithmatex">\(C_{in} = 0, \, C_{out} = 1\)</span>，则意味着 <span class="arithmatex">\(a_{63}\)</span> 和 <span class="arithmatex">\(b_{63}\)</span> 都为 1，即两个 operand 都是负数，此时由于 <span class="arithmatex">\(C_{out} = 1\)</span>，所以 <span class="arithmatex">\(res_{63}=0\)</span> 即结果是正数，<strong>两负数相加得到正数，发生 overflow；</strong></li>
</ul>
</blockquote>
<p><code>Less</code> 和 <code>Set</code> 共同使用，是为了实现 <code>slt rd, rs1, rs2</code> 这个操作（即实现比较操作）（SLT 即 Set Less Than）的。</p>
<p>这个操作的含义是，如果 <code>rs1 &lt; rs2</code> ，那么将 <code>rd</code> 置为 <code>1</code> ，否则置为 <code>0</code> 。如何进行这一判断呢？很简单，<code>rs1 &lt; rs2</code> 即 <code>rs1 - rs2 &lt; 0</code>，也就是说如果 <code>rs1 - rs2</code> 结果的最高位是 <code>1</code> ，那么就说明 <code>rs1 &lt; rs2</code> 。</p>
<p><strong>所以对于 <code>slt</code> 这个操作，我们只需要计算 <code>rs1 - rs2</code>，而后将 ALU63 中加法器的结果（即最终结果的符号位）赋值给 <code>Result[0]</code> ，即运算结果的 Least Significant Bit，而将其他位的结果 <code>Result[63:1]</code> 都设成 0，就可以完成 <code>slt</code> 操作了。</strong></p>
<p><strong>因为在比较操作中，最终的输出结果就是Less，所以上图中，除了 ALU0 的 <code>Less</code> 来自 ALU63 的 <code>Set</code> 外，其他 ALU 的 <code>Less</code> 都是 <code>0</code> 。</strong></p>
<p>结合上述讨论，上图中 ALU0 ~ ALU62 的结构如下第一张图所示，ALU63 的结构如下第二张图所示：<mark>（溢出仅需在最后一个ALU进行计算）</mark></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152879.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102428765" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152879.png" /></a></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152917.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102445156" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152917.png" /></a></p>
<p>（注：第二张图中的 Overflow Detection 被复杂化了，实际上可以通过 <code>CarryIn</code> 和 <code>CarryOut</code> 的异或<span class="arithmatex">\(\oplus\)</span>完成的。）</p>
<p>可以看到， <code>Operation</code> 增加了 <code>3</code> 的取值，这个取值表示进行 <code>slt</code> 操作。</p>
<h3 id="346-优化--zero-detector">3.4.6 优化 + zero detector！<a class="headerlink" href="#346-优化--zero-detector" title="Permanent link">&para;</a></h3>
<p>之前我们也讨论过，如果做减法或者 <code>slt</code> 的话，需要将 <code>Binvert</code> 和 ALU0 的 <code>CarryIn</code> 设成 <code>1</code> ，如果是加法的话这两个信号都是 <code>0</code> ；其他运算用不到这两个信号。因此这两个信号始终取值相等，我们可以将这<strong>两个信号合并为一个</strong>，称之为 <code>Bnegate替代原有的Binvert和CarryIn</code> 。</p>
<p>另外，我们也有 <code>beq</code> ， <code>bne</code> 这样的操作，结合 Common case fast 的设计思想，我们将判断结果是否为 0 的功能也直接加到 ALU 里。</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152085.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308195152096" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152085.png" /></a></p>
<p>结合上述两个思路，我们形成了最终的 64-bit ALU！</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152078.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102509138" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152078.png" /></a></p>
<p>对于这样的一个 ALU，我们需要 4 bits 的 control lines，分别是 <code>Ainvert</code> ,  <code>Bnegate</code> 和 <code>Operation</code> (2 bits)。ALU 的符号和 control lines 的含义如下：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152102.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102526062" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152102.png" /></a></p>
<p>对于NOR，A NOR B = NOT（A OR B） = （NOT A） AND （NOT B），所以需要对A和B都取反，在执行AND操作</p>
<h2 id="35-加速加法器">3.5 加速加法器<a class="headerlink" href="#35-加速加法器" title="Permanent link">&para;</a></h2>
<p>上面的 64 位加法的实现方式是通过 1 位加法器串联实现的，这种方式势必需要等待前一个加法器算出结果后才能算后一个的。这种多位加法器的实现称为<strong>行波加法器</strong> <strong>Ripple Carry Adder, RCA</strong>。显然，这种实现方式比较慢。</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152259.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308195827866" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152259.png" /></a>
$$
S_i = A_i \oplus B_i \oplus C_i\
C_{i+1} = A_i B_i + C_i(A_i+B_i)
$$</p>
<p>那么，如何加速呢？</p>
<h3 id="351-carry-lookahead-adder-cla">3.5.1 Carry Lookahead Adder, CLA<a class="headerlink" href="#351-carry-lookahead-adder-cla" title="Permanent link">&para;</a></h3>
<p>课本指出，<code>RCA(ripple carry adder)</code> 缓慢的重要原因是后一个 adder 需要等前一个 adder 的 carry 结果；但我们不妨讨论出现 carry 的可能。第一种可能是，如果 <span class="arithmatex">\(a\)</span> 和 <span class="arithmatex">\(b\)</span> 都是 1，那么一定会 <strong>生成</strong> 一个 carry；另一种可能是，如果 <span class="arithmatex">\(a\)</span> 和 <span class="arithmatex">\(b\)</span> 中有且仅有一个是 1，那么如果传入的 carry 是 1，则这里也会 carry，即 carry 被 <strong>传播</strong> 了。</p>
<p>也就是说，<span class="arithmatex">\(c_{out} = a \cdot b + (a + b)\cdot c_{in}\)</span>。我们记 <strong>generate</strong> <span class="arithmatex">\(g = a\cdot b\)</span>，<strong>propagate</strong> <span class="arithmatex">\(p = a + b\)</span>，则有 <span class="arithmatex">\(c_{out} = g + p \cdot c_{in}\)</span>。所以，我们可以这样构造一个全加器：</p>
<blockquote>
<p><strong>进位的生成与传播：</strong></p>
<p><strong>generate = a &amp; b                propagate = (a | b)</strong> </p>
<p><strong><span class="arithmatex">\(C_{out} = g + p * C_{in}\)</span></strong></p>
</blockquote>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152380.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308200450440" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152380.png" /></a></p>
<p>所以，我们可以推导出如下关系（可以形象理解每一个等式的每一个 term 的来源）：</p>
<div class="arithmatex">\[
\begin{aligned}
c_1 &amp;= g_0 + p_0 \cdot c_0\\
c_2 &amp;= g_1 + p_1 \cdot c_1\\
&amp;= g_1 + p_1 \cdot (g_0 + p_0 \cdot c_0)\\
&amp;= g_1 + p_1 \cdot g_0 + p_1 \cdot p_0 \cdot c_0\\
c_3 &amp;= g_2 + p_2 \cdot c_2 = g_2 + p_2 \cdot g_1 + p_2 \cdot p_1 \cdot g_0 + p_2 \cdot p_1 \cdot p_0 \cdot c_0
\end{aligned}
\]</div>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152419.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102600647" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152419.png" /></a></p>
<p>利用这个关系，我们可以构造这样一个四位加法器：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152550.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102622057" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152550.png" /></a></p>
<p>上面的 PFA, Partial Fully Adder，就是前面我们构造的新全加器的一部分。可以看到，通过这样的方式，我们可以加速加法的运算；但是注意到<strong>越到高位，门的 fan-in 就越大</strong>，因此不能一直增加的。所以对于更多位数的加法器，我们将上面这样<strong>构成的 4-bit CLA(Carry Look-ahead Adder) 再通过类似的方式串起来</strong>！</p>
<p>group generate(<span class="arithmatex">\(G_{0-3}\)</span>), group propagate(<span class="arithmatex">\(P_{0-3}\)</span>)</p>
<div class="arithmatex">\[
\begin{aligned}
&amp;G_{0-3} = G_3 + P_3G_2 + P_3P_2G_1+P_3P_2P_1G_0\\
&amp;P_{0-3} = P_3P_2P_1P_0\\
&amp;C_4 = G_{0-3} + P_{0-3}C_0
\end{aligned}
\]</div>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152634.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102650177" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152634.png" /></a></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152644.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308201810079" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152644.png" /></a></p>
<h3 id="352-carry-skip-adder">3.5.2 Carry Skip Adder<a class="headerlink" href="#352-carry-skip-adder" title="Permanent link">&para;</a></h3>
<h3 id="353-carry-select-adder-csa">3.5.3 Carry Select Adder, CSA<a class="headerlink" href="#353-carry-select-adder-csa" title="Permanent link">&para;</a></h3>
<p>体现了 <strong>预测 / 冗余</strong> 的思想。</p>
<p>这个思路其实比较简单，就是把输入 carry 为 0 或者 1 的情况都算一遍，然后根据实际的情况从中选出正确的那种就好了：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152805.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102718230" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152805.png" /></a></p>
<h2 id="36-乘法">3.6 乘法<a class="headerlink" href="#36-乘法" title="Permanent link">&para;</a></h2>
<p><strong><code>Multiplicand 被乘数  Multiplier 乘数</code></strong></p>
<h3 id="361-version1">3.6.1 version1<a class="headerlink" href="#361-version1" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://note.isshikih.top/cour_note/D2QD_DigitalDesign/Chap06/?h=%E4%B9%98%E6%B3%95#%E7%AE%97%E6%9C%AF">大致原理</a></li>
</ul>
<p>换句话来说，所谓的乘法实际上是根据 Multiplier 的 0/1 来选择是否要将 Multiplicand 的对应位移结果加到 Product 上。</p>
<p>64 bits 乘法器的硬件实现大致如下：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152816.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102752396" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152816.png" /></a></p>
<p>简单做解释，一共进行 64 次：</p>
<ol>
<li>判断 Multiplier 寄存器的最低位是否是 1（<code>control test</code>）：<ol>
<li>如果是(<code>write = 1</code>)，则将 Multiplicand 寄存器的值加到 Product 寄存器里(<code>128-bit ALU</code>)；</li>
<li>如果否，进入下一步；</li>
</ol>
</li>
<li>将 Multiplier 寄存器的值右移一位（这是为了不断拿出每一位，相当于在<strong>枚举 Multiplier 的每一位</strong>），将 <strong>Multiplicand 寄存器的值左移一位</strong>（对应于和 Multiplier 的第几位乘得到的位移，具体参考上面的链接内容）；</li>
<li>判断是否做满 64 次，决定是否终止；</li>
</ol>
<h3 id="362-version2">3.6.2 version2<a class="headerlink" href="#362-version2" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>不再移动被乘数multiplicand</strong></p>
<p><strong>相反移动product</strong></p>
<p><strong>ALU 缩减为64 bits</strong></p>
</blockquote>
<p>可以发现，version1 中做了大量的 128 位加法，但是实际上被加过去的 Multiplicand 有效内容只有 64 位。version2 正是解决了这个问题。</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152907.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102812629" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152907.png" /></a></p>
<p><strong>它将 Multiplicand 寄存器换为了 64 位，而将位移操作转移到了 Product 寄存器中进行。</strong>这里最重要的一点就是，64 位加法只影响 Product 寄存器左侧的 64 位，而之后的右移操作则是 128 位。这样，虽然最低位的结果一开始会被放在 Product 寄存器的第 65 位里，但是在经过 64 次右移之后，它就出现在第一位了。于是，所有的 128 位加法都被 64 位加法替代，实现了加速。</p>
<p>其流程大概是，一共进行 64 次：</p>
<ol>
<li>判断 Multiplier 寄存器的最低位是否是 1：<ol>
<li>如果是，则将 Multiplicand 寄存器的值加到 Product 寄存器的左半部分里；</li>
<li>如果否，进入下一步；</li>
</ol>
</li>
<li>将 Multiplier 寄存器的值右移一位，将 Product 寄存器的值右移一位；</li>
<li>判断是否做满 64 次，决定是否终止；</li>
</ol>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152033.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308205946542" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152033.png" /></a></p>
<h3 id="363-version3">3.6.3 version3<a class="headerlink" href="#363-version3" title="Permanent link">&para;</a></h3>
<p><strong>在version2的基础上，发现multiplier每回合需要右移一位，同时product也需要右移一位。但是multiplier每次移位之后，左侧会多一个无用的bit，同时product移位后一个无用的bit将被丢弃。<code>那为什么不把multiplier放在product的右边半呢？</code></strong></p>
<p>V3 正是抓住了这个点，直接将 Multiplier 存在了 Product 的低 64 位中。当我们从中取出最低位并经过一次判断后，这一位就不重要了，而恰好 Product 需要右移，就将这一位消除，方便我们下一次从最低位拿出下一个比特！</p>
<p>那么这么做的好处在哪里呢？首先，<strong>少了一个寄存器，节省了空间</strong>；其次，原本需要 Multiplier 寄存器和 Product 寄存器都做右移，<strong>现在只需要 Product 寄存器右移即可，减少了一个 64 位右移操作。</strong></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152158.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102825941" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152158.png" /></a></p>
<blockquote>
<p>product 的 右半边存放multiplier</p>
</blockquote>
<p>其流程大概是，一共进行 64 次：</p>
<ol>
<li>判断 Product 寄存器的最低位是否是 1：<ol>
<li>如果是，则将 Multiplicand 寄存器的值加到 Product 寄存器的左半部分里；</li>
<li>如果否，进入下一步；</li>
</ol>
</li>
<li>将 Product 寄存器的值右移一位；</li>
<li>判断是否做满 64 次，决定是否终止；</li>
</ol>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152220.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308210443944" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152220.png" /></a></p>
<hr />
<h3 id="364-有符号乘法">3.6.4 有符号乘法<a class="headerlink" href="#364-有符号乘法" title="Permanent link">&para;</a></h3>
<p>乘有符号数主要是转化为乘无符号数来做。</p>
<ol>
<li>首先存储两个数的符号，然后将它们转化为无符号数（<code>MSB = 0</code>）。</li>
<li>接下来对两个无符号数做无符号乘法，</li>
<li>最后根据之前存储的符号决定结果的符号并转化为有符号数。<code>如果符号位相同，结果符号位=0，否则，结果符号位=1</code></li>
</ol>
<hr />
<p>一种改进的乘法方法是 Booth's Algorithm。</p>
<h3 id="365-booths-algorithm">3.6.5 Booth's Algorithm。<a class="headerlink" href="#365-booths-algorithm" title="Permanent link">&para;</a></h3>
<ul>
<li>Booth's Algorithm（有点类似于差分算法）</li>
</ul>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152322.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102900781" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152322.png" /></a></p>
<p>在我看来，Booth's Algorithm 的主要思想在于，减少乘数中“<code>1</code>”的数量。具体来说，在我们原先的乘法策略中，每当乘数中有一位 <code>1</code> 时，都会需要一个加法（将位移后的被乘数累加到结果中）。</p>
<p>但是，如果乘数中有较长的一串 <code>1</code> 时，<strong>我们可以将它转化为一个大数字减一个小数，如：<code>00111100 = 01000000 - 00000100</code></strong>，此时 4 个 <code>1</code> 变为 2 个 <code>1</code>，我们就可以减少做加法的次数。这也是为什么 xyx 说有点像差分了。</p>
<blockquote>
<p><strong>增加移位的次数，减少加减运算的次数</strong></p>
</blockquote>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152350.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102915612" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152350.png" /></a></p>
<p>那么在实际执行过程中，Booth's Algorithm 主要遵循两位比特的模式进行操作。</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152452.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102932899" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152452.png" /></a></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152533.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306102944732" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152533.png" /></a></p>
<blockquote>
<p>对于上面这张图的理解，稍微做一些解释。它实际上的表示是挪用了 Version3 的乘法器。<strong>product 一列代表的是 product 寄存器，左一半一开始置 0，右一半一开始存放的是乘数</strong>，而上面提到的将被乘数加减累计到结果中的操作，也是对于左半部分来说的（<strong>换句话来说就是用 Version 做 Booth's</strong>）。需要提醒的是，在 Booth's Algorithm 中，两位识别是从第一位开始的，此时第一位作为两位中的高位，低位为 0，而后在下一轮中第一位作为低位，第二位作为高位，以此类推。</p>
</blockquote>
<p>有意思的事出现了，Booth's Algorithm 也能应用于负数。</p>
<p>仔细想想就会发现其实很合理，对于正数，其最高位一定是 <code>0</code>，因此不管怎么样它最终都会匹配到一个 <code>01</code> 的模式，来给一个 <code>1111..</code> 收尾。但是负数不然，负数的最高位是 <code>1</code>，这也意味着它最终不会执行所谓的 <code>01</code> 对应的加法操作来给 <code>111...</code> 收尾。换句话来说，它好像“亏”了一个在下一位的加法。（具体的为什么我来不及细想了，但是只管上理解这个“亏”很合理.）</p>
<blockquote>
<p><strong>Faster Multiplication</strong></p>
<p><strong>Uses multiple adders</strong></p>
<p><strong>相当于64 个 64 bits的数相加</strong></p>
</blockquote>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152733.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="img" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152733.png" /></a></p>
<h2 id="37-除法">3.7 除法<a class="headerlink" href="#37-除法" title="Permanent link">&para;</a></h2>
<h3 id="371-version1">3.7.1 version1<a class="headerlink" href="#371-version1" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152738.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308220822561" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152738.png" /></a></p>
<p><strong><code>divisor（除数） 在divisor寄存器的左侧，dividend（被除数）位于Remainder寄存器的右侧</code></strong></p>
<ol>
<li>用Remainder 减去 Divisor 除数<ul>
<li>如果余数小于0，说明当前的除数太大。需要先复原，余数加回除数。再对商进行左移，令Q0=0</li>
<li>如果余数大于0，说明当好。此时先将商进行左移，再将Q0设为1</li>
</ul>
</li>
<li>除数缩小右移</li>
<li>判断是否做满 65 （n+1）次，决定是否终止；</li>
</ol>
<blockquote>
<p><strong>思考一下：为什么需要执行65次？</strong></p>
<p><strong>因为在第一次执行的时候，remainder的左半边全为0，但是devisor的数全在左半边，所以毫无疑问，第一次的执行得到的商是0.</strong></p>
<p><strong>我们假设除数是0，被除数是111….11，那么从第一轮执行结束后，除数已经发生过右移，此时的除数变为0，所以后续的64次执行得到的商都是1，最开始的商0，也被右移出寄存器，符合结果。</strong></p>
</blockquote>
<p><span class="arithmatex">\(7 \div 2 = 00000111 \div 0010\)</span></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152833.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308222626632" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152833.png" /></a></p>
<h3 id="372-version2">3.7.2 version2<a class="headerlink" href="#372-version2" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152953.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308223655840" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152953.png" /></a></p>
<blockquote>
<p><strong>除数和ALU的宽度减半；</strong></p>
<p><strong>商寄存器不再需要。</strong></p>
<p><code>除数不再移动，余数寄存器移动，商补在余数寄存器的右侧</code></p>
</blockquote>
<p><strong>余数寄存器左移一位</strong></p>
<ol>
<li>用余数寄存器的左半边减去除数，结果保留在左半边<ul>
<li>如果小于0，加回除数，恢复原数。左移一位余数寄存器，右侧补上0</li>
<li>如果大于0，余数寄存器左移，右侧补1</li>
</ul>
</li>
<li>判断是否做满 64 次，决定是否终止；<strong><code>终止时余数寄存器的左半边右移1位（得到余数）</code></strong></li>
</ol>
<blockquote>
<p><strong>此处执行64次与上方的不同之处在于：第一轮开始之前的操作是左移remainder。</strong></p>
<p><strong>所以，第一轮，remainder在左移之后，可能会使得左半边大于divisor的情况（除数是0的情况），所以商是不确定的。</strong></p>
<p><strong>在64轮操作执行之后，显然余数寄存器的左移执行了65次，商和余数之间间隔着第一次左移带来的0，所以全部执行之后，需要对余数寄存器进行右移操作</strong></p>
</blockquote>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152983.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152983.png" /></a></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152068.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308224446918" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152068.png" /></a></p>
<p><strong><code>余数的符号和被减数保持一致</code></strong></p>
<h2 id="38-浮点运算">3.8 浮点运算<a class="headerlink" href="#38-浮点运算" title="Permanent link">&para;</a></h2>
<blockquote>
<p>大部分处理器可能本身并不支持浮点运算，只不过在软件层面可以将浮点运算转换为整数运算。</p>
</blockquote>
<h3 id="381-ieee-754-浮点表示">3.8.1 IEEE 754 浮点表示<a class="headerlink" href="#381-ieee-754-浮点表示" title="Permanent link">&para;</a></h3>
<p>我们将小数点左边只有 1 位数字的表示数的方法称为 <strong>科学记数法, scientific notation</strong>，而如果小数点左边的数字不是 0，我们称这个数的表示是一个 <strong>规格化数, normalized number</strong>。科学记数法能用来表示十进制数，当然也能用来表示二进制数。</p>
<blockquote>
<p><strong>normalized 与 not normalized 的区别在于有无前导0，且小数点前只能有一位</strong></p>
</blockquote>
<div class="arithmatex">\[
\begin{aligned}
&amp;-2.24 \times 10^{45} ——normalized\\
&amp;0.002 \times 10^{-4}—— not \ normalized \\
&amp;1101.01101 ——not \ normorlized\\
&amp;1.10101101 \times 10^3 ——normalized
\end{aligned}
\]</div>
<p>IEEE 754 规定了一种浮点数标准：我们将<strong><code>浮点数表示为 $(-1)^S \times F \times 2^E$ 的形式</code></strong>，这里的 <span class="arithmatex">\(F \times 2^E\)</span> 是一个规格化数，而 <span class="arithmatex">\((-1)^S\)</span> 用来表示符号位：<span class="arithmatex">\(S\)</span> 为 0 说明该浮点数为正数，为 1 则为负数；<span class="arithmatex">\(F\)</span> 和 <span class="arithmatex">\(E\)</span> 也用若干 bits 表示，分别表示尾数和指数，我们稍后讨论。也就是说，<strong>我们将其表示为 <span class="arithmatex">\(1.\text{xxxxx}_2\times 2^{\text{yyyy}}\)</span> 的形式</strong>这意味着我们没法直接通过这种表达形式表示 0（为什么小数点左边是 1 呢？因为二进制只有 0 和 1，而规格化要求小数点左边不能为 0）。我们通过科学记数法调整了小数点的位置使其满足规格化的要求，因此我们称这种数的表示方法为 <strong>浮点, floating point</strong>。</p>
<p>小数点的英文是 decimal point，但是我们这种表示方法不再是 decimal 的了，因此我们起个新名字：<strong>二进制小数点, binary point</strong>。</p>
<p>IEEE 754 规定了<strong>两种精度的浮点数格式</strong>，分别是 <strong>single precision 和 double precision</strong>（分别对应 C 语言中的 <code>float</code> 和 <code>double</code> ），RISC-V 这两种都支持：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152184.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306103006015" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152184.png" /></a></p>
<p>可以看到，<strong>fraction 的位数越多，浮点数的精度就越高；而 exponent 的位数越多，浮点数能保存的范围就越大。</strong></p>
<p>那么对于 <span class="arithmatex">\((-1)^S \times F \times 2^E\)</span>，<span class="arithmatex">\(S\)</span> 的二进制表示方法是显然的，仅需要一个 bit 就好了。那么 <span class="arithmatex">\(F\)</span> 和 <span class="arithmatex">\(E\)</span> 怎么表示呢？如我们之前所说，<strong><span class="arithmatex">\(F\)</span> 就是 <span class="arithmatex">\(1.\text{.xxxxx}_2\)</span> 的形式，这个 1 是固定的</strong>，<strong>因此 <span class="arithmatex">\(F\)</span> 只需要保存 <span class="arithmatex">\(\text{.xxxxx}\)</span> 的部分就可以了</strong>（但是请注意，它的权重从左到右分别是 <span class="arithmatex">\(2^{-1}, 2^{-2}, ...\)</span>）！那么 <span class="arithmatex">\(E\)</span> 怎么办呢？注意到这个指数在实际使用中可能是正整数、负整数或 0，因此我们使用一个偏移，对单精度<strong>浮点数偏移 127，双精度浮点数偏移 1023（刚好是表示范围的一半！）</strong>，也就是说我们保存的  <code>exponent</code>  其实是 <span class="arithmatex">\(E + bias\)</span> 的二进制。也就是说，对于这样的一个表示，其值是：</p>
<div class="arithmatex">\[(-1)^S\cdot (1 + \text{fraction}) \cdot 2 ^ {\text{exponent} - \text{bias}}\]</div>
<p><strong>exponent 表示范围是<span class="arithmatex">\(1 - 254\)</span>, 0 和 255用于表示特殊数据</strong></p>
<p><span class="arithmatex">\(Normalize \ significand: 1.0 ≤ |significand| &lt; 2.0\)</span></p>
<p><span class="arithmatex">\(min:1.0000\cdots0; max:1.111\cdots11 \approx 2\)</span></p>
<p>课本给出了一个例子：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152446.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240313101935348" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152446.png" /></a></p>
<blockquote>
<p><strong>单精度实数和双精度实数   绝对值  的范围</strong></p>
</blockquote>
<div class="arithmatex">\[
\begin{aligned}
&amp;smallest: Exponent :0000\_0001\\
&amp;Fraction:000\cdots000 \rightarrow significand = 1.0 \rightarrow +-1.0 \times 2^{-126}\\
\end{aligned}
\]</div>
<div class="arithmatex">\[
\begin{aligned}
&amp;largest: Exponent:1111\_1110\\
&amp;Fraction:111\cdots111 \rightarrow significand \approx 2.0 \rightarrow +-2.0 \times 2^{127}
\end{aligned}
\]</div>
<ul>
<li><strong>Overflow</strong>: The number is <strong>too big</strong> to be represented <ul>
<li>正上溢</li>
<li>负上溢</li>
</ul>
</li>
<li><strong>Underflow</strong>: The number is <strong>too small</strong> to be represented</li>
</ul>
<blockquote>
<p><strong>单精度实数和双精度实数的精度</strong></p>
</blockquote>
<p><strong><code>根据fraction的位数确定精度</code></strong></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152450.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240313103245198" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152450.png" /></a></p>
<p><strong>小数点后7位和小数点后16位</strong></p>
<p>聪明的小朋友可能会问，0 应该怎么保存呢？毕竟 0 没有前导 1。对于这样的特殊情形，IEEE 754 有特别规定，用特殊的值保存它们：</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152473.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240306103100423" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152473.png" /></a></p>
<p>在上表中：</p>
<ul>
<li>
<p>第 1 条表示 0；<code>Exponent = 0 , Fraction = 0</code></p>
</li>
<li>
<p>第 2 条表示<strong>非规格化数（denormalized number）</strong>，这种数主要是为了用来<strong>表示一些很小的数</strong>，它的取值为 <span class="arithmatex">\((-1)^S\cdot (\mathbf{0} + \text{fraction}) \cdot 2 ^ { \text{1- bias}}\)</span>；但是并非所有机器都支持这种表示，有的机器会直接抛出一个 exception。我们不考虑非规格数的存在；</p>
<blockquote>
<p><strong>规格化能表示的最小数是<span class="arithmatex">\(2^{-126}\)</span>,非规格化能表示的更小</strong></p>
<p><strong><span class="arithmatex">\(max: 0.111\cdots11 \times 2^{-126} = 2^{-126}\)</span></strong></p>
<p><strong><span class="arithmatex">\(min: 0.000\cdots01 \times 2^{-126} = 2^{-23} \times 2^{-126} = 2 ^{-149}\)</span></strong></p>
<p><strong>对于双精度实数同理</strong></p>
</blockquote>
</li>
<li>
<p>第 3 条表示正常的浮点数；</p>
</li>
<li>
<p>第 4 条表示<strong>无穷大或者无穷小</strong>，出现在 exponent overflow 或者浮点数运算中非 0 数除以 0 的情况；</p>
</li>
<li>
<p>第 5 条表示<strong>非数（NaN）</strong>，出现在 0/0, inf / inf, inf - inf, inf * 0 的情况</p>
</li>
</ul>
<p>（如果数字过大不能表示，即 overflow，则结果置为 inf；如果数字过小不能表示，即 underflow，则结果置为 0。）</p>
<p>这两种表示法的范围和精度分别是多少呢？</p>
<ul>
<li>
<p>范围</p>
<ul>
<li>能表示值的 <strong>绝对值</strong> 的范围是 <span class="arithmatex">\(1.0_2 \times 2^{1-\text{bias}} \sim 1.11\dots 11_2 \times 2^{11\dots 11_2-1-\text{bias}}\)</span>，即 <span class="arithmatex">\(1\times 2^{1 - \text{bias}}\sim(2 - 2^\text{-Fra\#})\times 2^{(2^\text{Exp\#} - 1) - 1 - \text{bias}}\)</span>，其中 <code>Fra#</code> 和 <code>Exp#</code> 分别表示 fraction 和 exponent 的位数；</li>
<li>单精度浮点数：<span class="arithmatex">\(\pm 1\times 2^{-126}\sim \pm(2 - 2^{-23}) \times 2^{127}\)</span></li>
<li>双精度浮点数：<span class="arithmatex">\(\pm 1\times 2^{-1022}\sim \pm(2 - 2^{-52}) \times 2^{1023}\)</span></li>
</ul>
</li>
<li>
<p>精度</p>
<ul>
<li><span class="arithmatex">\(2^ \text{-Fra\#}\)</span></li>
<li>单精度浮点数：<span class="arithmatex">\(2^{-23}\)</span></li>
<li>双精度浮点数：<span class="arithmatex">\(2^{-52}\)</span></li>
</ul>
</li>
</ul>
<blockquote>
<p>有时候题目里会出不同的浮点数表示法，让你比较精度，此时一般指的是，fraction + exponent 总位数相同的情况下，fraction 更多的一般更精确，也就是说这个精度更倾向于“能表示更多的小数位”。</p>
</blockquote>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152519.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240308192344781" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152519.png" /></a></p>
<p>单精度浮点数 符号位1位，指数8位， frac23位</p>
<p>0x7F800000 = 0b 0111_1111_1000_0000….0</p>
<p>首先是正数，指数部分是11111111， 对应正无穷<span class="arithmatex">\(+\inf\)</span></p>
<h3 id="382-浮点加法">3.8.2 浮点加法<a class="headerlink" href="#382-浮点加法" title="Permanent link">&para;</a></h3>
<p>以 <span class="arithmatex">\(1.000_2\times2^{-1}-1.110_2\times2^{-2}\)</span> 为例， 浮点数的加减法分为以下几步：</p>
<ol>
<li><strong>Alignment: 指数对齐</strong>，<strong>将小指数对齐到大指数</strong>：<span class="arithmatex">\(-1.110_2\times2^{-2} = -0.111\times2^{-1}\)</span><ol>
<li>为什么是<strong><code>小对大</code></strong>？首先，小对大的过程是在小指数的 fraction 前补 <code>0</code>，可能导致末尾数据丢失；大对小的过程是在大指数的 fraction 后补 <code>0</code>，可能导致前面的数据丢失。在计算过程中，我们保持的精确位数是有限的，而在迫不得已丢去精度的过程中，<strong>让小的那个数的末几位被丢掉的代价比大的前几位丢失要小太多了；</strong></li>
</ol>
</li>
<li><strong>Addiction Fraction</strong> 部分相加减：<span class="arithmatex">\(1.000-0.111=0.001\)</span></li>
<li><strong>Normalization</strong>: 将结果规格化：<span class="arithmatex">\(0.001\times2^{-1}=1.000\times2^{-4}\)</span>；同时需要检查是否出现 overflow 或者 underflow，如果出现则触发 Exception</li>
<li><strong>Rounding</strong>: 将 Fraction 部分舍入到正确位数；舍入结果可能还需要规格化，此时回到步骤 3 继续运行</li>
</ol>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152739.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image.png" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152739.png" /></a></p>
<h3 id="383-浮点乘法">3.8.3 浮点乘法<a class="headerlink" href="#383-浮点乘法" title="Permanent link">&para;</a></h3>
<p>分别处理符号位、exponent 和 fraction：</p>
<ul>
<li>将两个 Exponent 相加并 <strong>减去一个 bias</strong>，因为 bias 加了 2 次</li>
<li>将两个 (1 + Fraction) 相乘，并将其规格化；此时同样要考虑 overflow 和 underflow；然后舍入，如果还需要规格化则重复执行</li>
<li>根据两个操作数的符号决定结果的符号</li>
</ul>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152804.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152804.png" alt="image.png" style="zoom: 67%;" /></a></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152859.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152859.png" alt="img" style="zoom:80%;" /></a></p>
<h3 id="384-精确算术">3.8.4 精确算术<a class="headerlink" href="#384-精确算术" title="Permanent link">&para;</a></h3>
<p>IEEE 754 规定了一些额外的舍入控制，用来保证舍入的精确性。</p>
<p><strong>Round modes</strong></p>
<ul>
<li><code>guard</code> / <code>round</code> / <code>sticky</code></li>
</ul>
<blockquote>
<p><strong>down:</strong> 变小  <strong>up</strong>：变大   <strong>0</strong>：抹去小数即可，往0靠        <strong>nearest even</strong>：最近的偶数</p>
</blockquote>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152930.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="img" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152930.png" /></a></p>
<p><strong><code>Round to nearest even 只对 0.5 有效，别的都和四舍五入一样</code></strong></p>
<p>一般的浮点数后面还会有 2 bits，分别称为 <strong>guard 和 round</strong>，其主要目的是让计算结果的舍入更加的精确： </p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152014.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image.png" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152014.png" /></a></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152083.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="img" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152083.png" /></a></p>
<p>事实上加法只需要用到 guard，但是<strong>对于乘法，如果存在前导 0，需要将结果左移，这时候 round bit 就成了有效位，能避免精度的损失。</strong></p>
<p>另外还有一个位叫 sticky bit，其定义是：只要 round 右边出现过非零位，就将 sticky 置 1，这一点可以用在加法的右移中，可以记住是否有 1 被移出，从而能够实现 "round to nearest even"。</p>
<p><code>units in the last place(ulp)</code>: The number of bits in error in the leas t significant bits of the significant between the actual number and the number that can be represented.</p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152234.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240313120601633" src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152234.png" /></a></p>
<p>Separate <strong>FP registers</strong>: $f0, …, f31 $</p>
<ul>
<li>
<p>double-precision </p>
</li>
<li>
<p>single-precision values stored in the lower 32 bits </p>
</li>
</ul>
<p>单精度值存储在较低的 32 位中</p>
<p>FP instructions operate only on FP registers </p>
<p>FP 指令仅在 FP 寄存器上运行</p>
<ul>
<li>Programs generally don’t do integer ops on FP data, or vice versa </li>
<li>More registers with minimal code-size impact </li>
</ul>
<p>FP load and store instructions <span class="arithmatex">\(flw, fld fsw, fsd\)</span></p>
<p><a class="glightbox" href="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152370.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="https://zn-typora-image.oss-cn-hangzhou.aliyuncs.com/typora_image/202403312152370.png" alt="image-20240313112614362" style="zoom:150%;" /></a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy 2024 rescuerz
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.expand", "navigation.top", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="../../supports/js/xlink.js"></script>
      
        <script src="../../supports/js/katex.js"></script>
      
        <script src="https://jsd.cdn.zzko.cn/npm/katex@0.16.4/dist/katex.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>